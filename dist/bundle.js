(()=>{"use strict";var e,t,o={},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var c=r[e]={id:e,loaded:!1,exports:{}};return o[e].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}n.m=o,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>e+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="calculator:",n.l=(o,r,c,i)=>{if(e[o])e[o].push(r);else{var l,s;if(void 0!==c)for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var d=a[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+c){l=d;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+c),l.src=o),e[o]=[r];var S=(t,r)=>{l.onerror=l.onload=null,clearTimeout(E);var n=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((e=>e(r))),t)return t(r)},E=setTimeout(S.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=S.bind(null,l.onerror),l.onload=S.bind(null,l.onload),s&&document.head.appendChild(l)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={179:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var c=new Promise(((o,n)=>r=e[t]=[o,n]));o.push(r[2]=c);var i=n.p+n.u(t),l=new Error;n.l(i,(o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var c=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+c+": "+i+")",l.name="ChunkLoadError",l.type=c,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,c,[i,l,s]=o,a=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);s&&s(n)}for(t&&t(o);a<i.length;a++)c=i[a],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0},o=self.webpackChunkcalculator=self.webpackChunkcalculator||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var c={};function i(e,t){e.addEventListener("click",t)}n.r(c),n.d(c,{ADDITION:()=>ce,ARCOS:()=>_,ARCSIN:()=>P,ARCTAN:()=>C,BOTTOMARROW:()=>p,CLEAR:()=>T,COMMA:()=>k,COS:()=>q,DEGREE:()=>N,DEGREE_SCREEN:()=>de,DELETE:()=>A,DISPLAY_WHAT_SINGLE:()=>s,DIVIDE:()=>M,EE:()=>G,EIGHT:()=>X,ENTER:()=>ae,EX:()=>te,EXPONENT:()=>U,EXPRESSION_OBJECT:()=>l,FIVE:()=>z,FLAGLIST:()=>ge,FLIP_ONE:()=>u,FLIP_ZERO:()=>a,FORWARD:()=>Ee,FOUR:()=>Z,GRIDS:()=>g,INSERT:()=>y,LEFTARROW:()=>v,LEFTPARENTHESES:()=>b,LN:()=>ee,LOG:()=>Q,MULTIPLY:()=>V,NEGATIVE:()=>se,NINE:()=>j,ON:()=>S,ONE:()=>oe,PERCENT_SIGN:()=>w,PI:()=>I,RADIAN:()=>O,RADIAN_SCREEN:()=>Se,RADIX:()=>le,RIGHTARROW:()=>R,RIGHTPARENTHESES:()=>F,SCREEN_OFF:()=>d,SECOND:()=>E,SECOND_SCREEN:()=>ue,SEVEN:()=>$,SIN:()=>L,SIX:()=>J,SQUARE:()=>W,SQUAREROOT:()=>H,SUBTRACT:()=>K,TAN:()=>x,TENX:()=>Y,THREE:()=>ne,TWO:()=>re,UPARROW:()=>h,WOFF:()=>m,WON:()=>f,ZERO:()=>ie,xNEGONE:()=>D,xROOT:()=>B});var l={string:[],listeners:[],push(e){this.string.push(e),this.notify()},clear(){this.string=[],this.notify()},listen(e){this.listeners.push(e)},notify(){this.listeners.forEach((e=>e(this.string)))},getLength(){return this.string.length},getCharacterLength(){return this.string.join("").length},getGridCountForToken:function(e){console.log("Token:",e);let t=new Set;return console.log("Single-character token:",s[e]),s[e].forEach((e=>{console.log("Position:",e),t.add(e)})),console.log("Grid Set:",t),console.log("Grid Set Size:",t.size),t.size+1}},s={0:[1,2,3,5,9,10,13,14,15,17,19,20,21,24,25,29,31,32,33],1:[2,6,7,12,17,22,27,31,32,33],2:[1,2,3,5,9,14,18,22,26,30,31,32,33,34],3:[0,1,2,3,4,8,12,18,24,25,29,31,32,33],4:[3,7,8,11,13,15,18,20,21,22,23,24,28,33],5:[0,1,2,3,4,5,10,11,12,13,19,24,25,29,31,32,33],6:[2,3,6,10,15,16,17,18,20,24,25,29,31,32,33],7:[0,1,2,3,4,9,13,17,21,26,31],8:[1,2,3,5,9,10,14,16,17,18,20,24,25,29,31,32,33],9:[1,2,3,5,9,10,14,16,17,18,19,24,28,31,32],p:[10,11,12,13,14,16,18,21,23,26,28,30,33,34],"^":[2,6,8,10,14],"!":[3,4,9,10,11,14,19],E:[11,12,13,14,16,21,22,23,26,31,32,33,34],"(":[3,7,11,16,21,27,33],")":[1,7,13,18,23,27,31],"/":[9,13,17,21,25],"@":[1,2,3,5,8,12,16,20,21,22,23],"*":[7,10,12,14,16,17,18,20,22,24,27],S:[15,16,17,18,19],"-":[15,16,17,18,19],"+":[7,12,15,16,17,18,19,22,27],".":[26,27,31,32],"%":[0,1,5,6,9,13,17,21,25,28,29,33,34],D:[0,1,2,5,8,10,14,15,19,20,24,25,28,30,31,32],O:[1,2,3,5,9,10,14,15,19,20,24,25,29,31,32,33],M:[0,4,5,6,8,9,10,12,14,15,17,19,20,24,25,29,30,34],A:[1,2,3,5,9,10,14,15,16,17,18,19,20,24,25,29,30,34],I:[1,2,3,7,12,17,22,27,31,32,33],N:[0,4,5,9,10,11,14,15,17,19,20,23,24,25,29,30,34],r:[12,13,16,19,21,26,31],e:[11,12,13,15,19,20,21,22,23,25,31,32],o:[11,12,13,15,19,20,24,25,29,31,32,33],s:[11,12,13,15,21,22,23,29,30,31,32,33],i:[2,11,12,17,22,27,31,32,33],n:[10,12,13,15,16,19,20,24,25,29,30,34],a:[11,12,13,19,21,22,23,24,25,29,31,32,33,34],l:[1,2,7,12,17,22,27,31,32,33],c:[11,12,13,15,20,25,29,31,32,33],t:[1,6,10,11,12,16,21,26,29,32,33],x:[2,4,8,12,14],R:[2,3,4,7,12,17,20,22,26,27,32],"^":[2,6,8,10,14]};const a=document.querySelectorAll(".flip0"),u=document.querySelectorAll(".flip1"),d=document.querySelectorAll(".screenOff"),S=document.querySelector("#On"),E=document.querySelector("#Second"),g=document.querySelectorAll(".lcdGridSquare"),f=document.querySelector("#onSpan"),m=document.querySelector("#offSpan"),T=document.querySelector("#CLEAR_BUTTON"),N=document.querySelector("#DEGREE_SPAN"),O=document.querySelector("#RADIAN_SPAN"),A=document.querySelector("#DELETE_SPAN"),y=document.querySelector("#INSERT_SPAN"),h=document.querySelector("#UPARROW_BUTTON"),R=document.querySelector("#RIGHTARROW_BUTTON"),p=document.querySelector("#BOTTOMARROW_BUTTON"),v=document.querySelector("#LEFTARROW_BUTTON"),I=document.querySelector("#PI_BUTTON"),L=document.querySelector("#SIN_SPAN"),P=document.querySelector("#ARCSIN_SPAN"),q=document.querySelector("#COSINE_SPAN"),_=document.querySelector("#ARCOS_SPAN"),x=document.querySelector("#TANGENT_SPAN"),C=document.querySelector("#ARCTAN_SPAN"),U=document.querySelector("#EXPONENT_SPAN"),B=document.querySelector("#xROOT_SPAN"),D=document.querySelector("#xNegOne_SPAN"),G=document.querySelector("#EE_SPAN"),b=document.querySelector("#LEFT_PARENTHESES_SPAN"),w=document.querySelector("#PERCENT_SPAN"),F=document.querySelector("#RIGHT_PARENTHESES_SPAN"),k=document.querySelector("#COMMA_SPAN"),M=document.querySelector("#DIVIDE_BUTTON"),W=document.querySelector("#SQUARE_SPAN"),H=document.querySelector("#SQUARE_ROOT_SPAN"),$=document.querySelector("#SEVEN_BUTTON"),X=document.querySelector("#EIGHT_BUTTON"),j=document.querySelector("#NINE_BUTTON"),V=document.querySelector("#MULTIPLY_BUTTON"),Q=document.querySelector("#LOG_SPAN"),Y=document.querySelector("#TENX_SPAN"),Z=document.querySelector("#FOUR_BUTTON"),z=document.querySelector("#FIVE_BUTTON"),J=document.querySelector("#SIX_BUTTON"),K=document.querySelector("#SUBTRACT_BUTTON"),ee=document.querySelector("#NATURAL_LOG_SPAN"),te=document.querySelector("#EX_SPAN"),oe=document.querySelector("#ONE_BUTTON"),re=document.querySelector("#TWO_BUTTON"),ne=document.querySelector("#THREE_BUTTON"),ce=document.querySelector("#ADDITION_BUTTON"),ie=document.querySelector("#ZERO_BUTTON"),le=document.querySelector("#RADIX_BUTTON"),se=document.querySelector("#NEGATIVE_BUTTON"),ae=document.querySelector("#ENTER_BUTTON"),ue=document.querySelector("#secondScreenText"),de=document.querySelector("#degreeScreenText"),Se=document.querySelector("#radianScreenText"),Ee=document.querySelector("#forwardSlash"),ge={isOn:!1,gridDefined:!1,angleMode:!1};function fe(){if(ge.isOn){clearInterval(Te);let e=document.getElementById(`gridspace${String(Oe+1).padStart(2,"0")}`);if(!e)return void console.error(`No gridSpace found for cursorPosition ${Oe}`);let t=Array.from(e.children);Te=setInterval((()=>{t.forEach((e=>{e.classList.toggle("activeCursor")}))}),500)}}let me,Te,Ne=!1,Oe=0,Ae=0;function ye(e,t){if(console.log("Starting moveCursor function."),Ne)return void console.log("Cursor is already moving. Exiting function.");Ne=!0;let o=document.getElementById(`gridspace${String(Oe+1).padStart(2,"0")}`);for(o&&Array.from(o.children).forEach((e=>{e.classList.remove("activeCursor")})),clearInterval(Te);t>=11;)t--,Ae+t<l.getCharacterLength()&&Ae++;for(;t<0&&Ae>0;)t++,Ae--;t=Math.max(0,t),t=Math.min(l.getCharacterLength(),t),Oe=t,clearTimeout(me),ge.isOn?(console.log("Drawing cursor at new position."),fe(),me=setTimeout((()=>{console.log("Updating grids after timeout."),he(l.string),Ne=!1}),10)):(console.log("Cursor is toggled off. Clearing it immediately."),ve(),Ne=!1)}function he(e){console.log(`Updating grids with expression array ${e}`),e.map((e=>(console.log(`Processing token: ${e}`),{token:e,key:e}))).slice(Ae,Ae+10).forEach(((e,t)=>{console.log(`Processing item at index ${t}:`,e),function(e,t,o,r){const n=document.getElementById(`gridspace${o.toString().padStart(2,"0")}`);if(!n)return void console.error(`No container found with ID gridspace${o}`);const c=Array.from(n.children);c.forEach((e=>e.classList.remove("activatedPixel")));const i=r[e];i?i.forEach((e=>{e<c.length&&c[e].classList.add("activatedPixel")})):console.error(`No display data found for token '${e}'`)}(e.token,e.key,t+1,s)})),console.log("Drawing cursor..."),fe()}let Re,pe=!1;function ve(){if(pe)return;pe=!0,clearInterval(Te);let e=document.getElementById(`gridspace${String(Oe+1).padStart(2,"0")}`);e&&Array.from(e.children).forEach((e=>{e.classList.remove("activeCursor")})),Te=null,he(l.string),Oe=0,fe(),Re=setTimeout((()=>{Ae=0,pe=!1}),100)}function Ie(){clearTimeout(Re)}function Le(e){return function(t){ge.isOn&&(l.push(String(e)),he(l.string),ye(0,l.getGridCountForToken(String(e))))}}function Pe(e){return function(t){if(ge.isOn)if(["sin(","cos(","asin(","acos(","tan(","atan(","xRt","2x","log(","(tn","e^(","ln("].some((function(t){return e.indexOf(t)>=0}))){for(let t=0;t<e.length;t++){const o=e[t];console.log(o),l.push(o)}he(l.string),ye(0,l.getGridCountForToken(e))}else l.push(e),he(l.string),ye(0,l.getGridCountForToken(e))}}function qe(e){l.string=[],S.classList.add("activatedBLUEOW"),d.forEach((e=>e.classList.add("on"))),ge.isOn=!0,Se.classList.add("activeScreenText"),Ee.classList.add("activeScreenText"),function(e){for(let e=1;e<=22;e++){let t="gridspace"+(e>9?e:"0"+e);Array.from(document.querySelector("#"+t).children).forEach((e=>{e.className="onGrid"}))}}(),ve()}function _e(e){for(let t=1;t<=22;t++){let o="gridspace"+(t>9?t:"0"+t);Array.from(document.querySelector("#"+o).children).forEach((t=>{t.classList.remove(e)}))}}T.addEventListener("mousedown",Ie),m.addEventListener("mousedown",Ie);const xe=["sin(","cos(","tan(","asin(","acos(","atan("];function Ce(e,t,o){let r=e[t];if(xe.some((e=>r.includes(e)))){if(!(t<e.length-1))throw new Error("Trigonometric function at end of expression without argument");e[t+1]=function(e,t){let o=parseFloat(e);return isNaN(o)?e:String(o*t.pi/180)}(e[t+1],o)}else if(r.includes("(")&&r.includes(")")){let n=r.indexOf("("),c=r.lastIndexOf(")");if(-1!==n&&-1!==c){let i=r.slice(n+1,c).split(" ");e[t]=r.slice(0,n+1)+Ue(i,o).join(" ")+r.slice(c)}}return e}function Ue(e,t){for(let o=0;o<e.length;o++)e=Ce(e,o,t);return e}const Be=Le(0),De=Le(1),Ge=Le(2),be=Le(3),we=Le(4),Fe=Le(5),ke=Le(6),Me=Le(7),We=Le(8),He=Le(9),$e=Pe("p"),Xe=Pe("sin("),je=Pe("asin("),Ve=Pe("cos("),Qe=Pe("acos("),Ye=Pe("tan("),Ze=Pe("atan("),ze=Pe("^"),Je=Pe("xRt"),Ke=Pe("!"),et=Pe("(tn"),tt=Pe("("),ot=Pe(")"),rt=Pe("/"),nt=Pe("@"),ct=Pe("2x"),it=Pe("*"),lt=Pe("S"),st=Pe("+"),at=Pe("log("),ut=Pe("(tn"),dt=Pe("e^("),St=Pe("ln("),Et=Pe("."),gt=Pe("-"),ft=Pe("%"),mt=(l.string,async function(e){let t=l.string;console.log(t);let o={p:"(pi)",E:"*10^","!":"^-1",S:"-","@":"^2",xRt:"nthRoot(","(tn":"(10^"};var r=t.map((e=>{let t=e;for(let e in o)t.includes(e)&&(t=t.replace(new RegExp(e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),o[e]));return t}));const c=(await Promise.all([n.e(786),n.e(180)]).then(n.bind(n,770))).default;!0===ge.angleMode&&(r=Ue(r,c)),console.log(r);var i=r.join(""),a=c.evaluate(i);console.log(a),function(e){let t=document.querySelector("html");if("object"==typeof e){console.log("DomainErr.");let e="DOMAIN.err.".split("");for(let t=0;t<e.length;t++){const o=t+12,r=document.getElementById(`gridspace${String(o).padStart(2,"0")}`);if(r){const o=e[t],n=Array.from(r.children);n.forEach((e=>e.classList.remove("activatedPixel")));const c=s[o];c&&(Array.isArray(c)?c:[c]).forEach((e=>{e<n.length&&(n[e].classList.add("activatedPixel"),console.log(`Added 'activatedPixel' to child at index ${e}`))}))}}}else if("number"==typeof e)if("Infinity"==e||"-Infinity"==e||NaN==e)screams.play(),t.remove();else{console.log("Result: ",e),console.log("Type: ",typeof e);const t=String(e).split("");console.log(t);for(let e=0;e<t.length;e++){const o=e+12,r=document.getElementById(`gridspace${String(o).padStart(2,"0")}`);if(r){const o=t[e],n=Array.from(r.children);n.forEach((e=>e.classList.remove("activatedPixel")));const c=s[o];c&&(Array.isArray(c)?c:[c]).forEach((e=>{e<n.length&&(n[e].classList.add("activatedPixel"),console.log(`Added 'activatedPixel' to child at index ${e}`))}))}}}}(a)});i(f,qe),i(m,(function(e){S.classList.remove("activatedBLUEOW"),d.forEach((e=>e.classList.remove("on"))),a.forEach((e=>e.classList.remove("flipF"))),u.forEach((e=>e.classList.remove("flipB"))),E.classList.remove("activatedBOW"),ue.classList.remove("activeScreenText"),Se.classList.remove("activeScreenText"),de.classList.remove("activeScreenText"),Ee.classList.remove("activeScreenText"),ge.angleMode=!1,ge.isOn=!1,l.string=[],_e("activatedPixel"),_e("onGrid"),ve()})),i(E,(function(e){console.log(e),ge.isOn&&(a.forEach((e=>e.classList.toggle("flipF"))),u.forEach((e=>e.classList.toggle("flipB"))),E.classList.toggle("activatedBOW"),ue.classList.toggle("activeScreenText"))})),console.log(c.WOFF);const Tt={CLEAR:function(e){ge.isOn&&(l.clear(),_e("activatedPixel"),ve())},ZERO:Be,ONE:De,TWO:Ge,THREE:be,FOUR:we,FIVE:Fe,SIX:ke,SEVEN:Me,EIGHT:We,NINE:He,PI:$e,SIN:Xe,ARCSIN:je,COS:Ve,ARCOS:Qe,TAN:Ye,ARCTAN:Ze,EXPONENT:ze,xROOT:Je,xNEGONE:Ke,EE:et,LEFTPARENTHESES:tt,RIGHTPARENTHESES:ot,PERCENT_SIGN:ft,DIVIDE:rt,SQUARE:nt,SQUAREROOT:ct,MULTIPLY:it,LOG:at,TENX:ut,SUBTRACT:lt,LN:St,EX:dt,ADDITION:st,RADIX:Et,NEGATIVE:gt,ENTER:mt,DEGREE:function(){ge.isOn&&(Se.classList.remove("activeScreenText"),de.classList.add("activeScreenText"),ge.angleMode=!0,console.log(ge.angleMode))},RADIAN:function(){ge.isOn&&(Se.classList.add("activeScreenText"),de.classList.remove("activeScreenText"),ge.angleMode=!1,console.log(ge.angleMode))},RIGHTARROW:function(){console.log("Right arrow clicked - cursor position:",Oe),ye(0,Oe+1)},LEFTARROW:function(){console.log("Left arrow clicked - cursor position:",Oe),ye(0,Oe-1)}};for(const e in Tt)i(c[e],Tt[e]);console.log(l.string.length),document.addEventListener("DOMContentLoaded",qe)})();